package me.moomoo.anarchyexploitfixes.utils;

import com.destroystokyo.paper.MaterialTags;
import org.bukkit.block.ShulkerBox;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.BlockStateMeta;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

public class ItemUtil {
    public static @Nullable Iterable<ItemStack> getStoredItems(@NotNull ItemStack itemStack) {
        if (MaterialTags.SHULKER_BOXES.isTagged(itemStack)) {
            return ((ShulkerBox) ((BlockStateMeta) itemStack.getItemMeta()).getBlockState()).getInventory();
        }
        return BundleUtil.getItems(itemStack);
    }
}
