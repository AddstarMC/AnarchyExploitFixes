package me.moomoo.anarchyexploitfixes.modules.oldcode.misc;

import me.moomoo.anarchyexploitfixes.AnarchyExploitFixes;
import org.bukkit.ChatColor;
import org.bukkit.configuration.file.FileConfiguration;
import org.bukkit.event.EventHandler;
import org.bukkit.event.EventPriority;
import org.bukkit.event.Listener;
import org.bukkit.event.player.PlayerCommandPreprocessEvent;

public class CommandPreProcess implements Listener {
    private final AnarchyExploitFixes plugin;
    public CommandPreProcess() {
        this.plugin = AnarchyExploitFixes.getInstance();
    }

    @EventHandler(priority = EventPriority.HIGHEST, ignoreCancelled = true)
    public void onCommandPreprocess(PlayerCommandPreprocessEvent event) {
        FileConfiguration config = plugin.getConfig();

        if (config.getBoolean("FixChatcoIgnoreBug") && event.getMessage().equalsIgnoreCase("/ignore")) {
            if (event.getPlayer().getLocale().startsWith("es")) {
                event.getPlayer().sendMessage(ChatColor.RED + "No agregaste un nombre de jugador...");
            } else {
                event.getPlayer().sendMessage(ChatColor.RED + "You didn't add a player name...");
            }
            event.setCancelled(true);
        }
    }
}
