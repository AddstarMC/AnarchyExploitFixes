[![Discord Mine](https://img.shields.io/discord/807380182729228298?label=chat&logo=discord&logoColor=white)](https://discord.gg/VYZuWRMQ8u)
[![GitHub All Releases](https://img.shields.io/github/downloads/moom0o/AnarchyExploitFixes/total.svg)](https://github.com/moom0o/AnarchyExploitFixes/releases/)

# AnarchyExploitFixes

Fix exploits on a Minecraft Anarchy Server

[![bstats](https://bstats.org/signatures/bukkit/AnarchyExploitFixes.svg)](https://bstats.org/plugin/bukkit/AnarchyExploitFixes/8700)

## Requirements

* ProtocolLib - This is for preventing packet exploits, if it's not present these exploits will not be prevented, and
  you will get a warning message.

## Prebuilt jar

### Go to releases, download the latest jar

If you wish to have a prebuilt BETA jar with the latest code, click Actions at the top of the page, click the
latest build, and download the artifact.

## Building from source

`git clone https://github.com/moom0o/AnarchyExploitFixes.git`

Run `mvn package`

## Servers using AEF:

Add your server in a pull request

constantiam.net (70-80), 5b5t.org (50-150), openanarchy.org (40-150), scfanarchy.ggs.gg (0-3), german-anarchy.org(4-16)
mc.22b22t.tk (4-20)

## Commands

These commands are only able to be executed by console or opped players.

* /aef reload - Reload the config
* /aef datavalue - (1.12 Relevant) Get the data value for the item you're holding to add it to the remove list
* /aef elytra - See who is flying on an elytra.
* /aef geared - See how many players have armor or are new.
* /aef lag - artificially lag the server for testing. Every time you run the command the server freezes for 1 second by
  default, add milliseconds to the end of the command for custom time.
* /aef version - Plugin version.
* /aef config - Show enabled/disabled config options.
* /aef kickphrase phrase - (Beta, make a pr) kick players that have said a certain phrase.

## Donate

You can send bitcoin to `3DJan1GpSkhiWHYec55xKhchZC8NeC829S`

You can send Monero to `49aXC8ZatrK4MrQXeSpUGsYk5HKLpeuhTZKMW8MtXuXxhNob8rQQBrkRj471Zv4ZNoCu6teYwsMy42HznLp6grCt1AUDCrW`

You can also send gift cards, contact me on Discord.

## Contact

Need to let me know of any exploits in private? Contact me on discord: `moo#0529` or email `moom0o@protonmail.com`

## Notice

Please note that some exploits have already been patched
by [2LS ExploitFixer](https://www.spigotmc.org/resources/2ls-exploitfixer-the-ultimate-antiexploit-plugin.62842/)
& [Papaya (My paper fork)](https://github.com/moom0o/Papaya) are probably not fixed in AEF, I recommend using those 2
alongside AEF to patch the majority of exploits.

## Features

**This list does not include all features, check the config for all features!**

**All features listed here can be disabled or enabled in the config.**

* Prevent NoCom exploit. - Prevent the 'NoCom' coordinate exploit
* Prevent a new lag exploit where fireworks can bring tps down to single digits.
* Prevent BowBomb exploit. - Prevent an exploit where bows can instantly kill a player.
* Prevent Burrow hack - Where you step inside a block so crystals can't do any damage.
* Prevent BoatFly exploit - Prevent the Future client / Rusherhack BoatFly exploit.
* Prevent Book-ban - All characters still work! The size of each page is just limited to 255 bytes (customizable). This
  allows to fill the whole page with latin characters. Characters that use more bytes such as Chinese may be limited in
  length.
* Prevent unbreakable Packet Elytra fly.
* Prevent PacketFly exploit.
* Prevent end gateway crash exploit. - https://www.youtube.com/watch?v=c5nVBQeYo-I
* Patch end portal dupe. - https://www.youtube.com/watch?v=n-fN6txZNgc
* Prevent Y256 dispenser crash exploit. - https://www.youtube.com/watch?v=XL17P87O6xA
* Anti-Illegal system. - Automatically remove illegal items, stacked items, high enchanted items, unenchantable items,
  and shulkers that contain them.
* Limit speed of snowballs to prevent clientside lag.
* Limit crafting table autorecipe speed to prevent a lag exploit.
* Prevent all coordinate exploits related to teleporting by vanishing a player right before they are teleported.
* Prevent destroying end portal frames.
* Prevent multiple end dragons from being created.
* Prevent portal traps - Disabled by default.
* Automatically fill in the bedrock floor/roof if the bedrock has been broken.
* Prevent players from going below the bedrock floor by teleporting them up. - Useful so people can't elytra fly below
  the world.
* Remove wither heads automatically to prevent lag. - Removes on chunk unload or after 10 seconds (customizable)
* Option to disable wither spawning at spawn. - Disabled by default.
* Prevent chunk ban exploit. - Checks how much of each block is in a chunk.
* Prevent chat spam. - Delay between messages, Max messages per a certain time, seperate link delay, character limit,
  and more!
* Prevent god mode exploit. - Prevent most godmode exploits, please note, there could still be bypasses.
* Prevent invalid names. - Disallow login from players with invalid characters/too long of a name.
* Prevent command signs. - Prevent players from right clicking signs that have been placed with a command attached. For
  example, from a backdoor.
* Limit falling blocks per chunk to prevent lag.
* Limit exp bottles per chunk to prevent lag.
* Prevent projectiles from going through portals, shooting projectiles through portals can get them stuck in the same
  place on the other side, once they are loaded the server can crash.
* Prevent too many vehicles, such as minecarts, in chunks.
* Prevent bed-traps. - Disabled by default.
* Prevent nether roof access. - Disabled by default.
* Prevent placing blocks on nether roof
* Option to disable chests on donkeys. - This is unlike IllegalStack's, no items will drop if the chest is broken.
  Useful to prevent many dupe exploits, Disabled by default.
* Option to prevent donkeys from going through portals. - Useful to prevent many dupe exploits, disabled by default.
* Option to mask all kick messages. - Change every kick message to "You have lost connection to the server", or
  whichever you specify. Disabled by default.
* Option to enable first join message. - Disabled by default.
* Command whitelist - Useful for only allowing commands that you want to be allowed, so players can't find your plugins.
  Disabled by default.
* Elytra speed limits for old and new chunks, and bursting settings for when tps is high.
* Elytra action bar to show players the speed they are going and speed limit.
* Option to ratelimit levers, disabled by default.
* Options to disable certain game features at specific TPS. Redstone, Elytra, Explosions, Falling Blocks.

## Optimization Guide

You can find an optimization guide at the file GUIDE.md

[comment]: <> (## Missing features)

[comment]: <> (* My modified version of John's god mode patch - Was removed because the original code was so shit that when reloaded)

[comment]: <> (  with plugman all the players will get kicked, aswell as breaking support for anything other than 1.12.2. Please use my)

[comment]: <> (  standalone plugin for this &#40;1.12.2 only&#41;: https://github.com/moom0o/AntiGodMode. I have another god mode patch but I'm)

[comment]: <> (  not sure if it works.)

## Probably won't be added

* Auto-updater, because you shouldn't trust me and instead read the code yourself.

## Stars over time

[![Stargazers over time](https://starchart.cc/moom0o/AnarchyExploitFixes.svg)](https://starchart.cc/moom0o/AnarchyExploitFixes)
